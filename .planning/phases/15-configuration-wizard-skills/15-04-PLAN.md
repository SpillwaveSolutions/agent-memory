---
id: 15-04
name: Reference documentation consolidation
phase: 15
plan: 04
type: execute
wave: 2
depends_on: ["15-01", "15-02"]
files_modified:
  - plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md
  - plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md
  - plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md
autonomous: true
estimated_effort: S

must_haves:
  truths:
    - "Performance tuning options fully documented"
    - "API testing procedures documented for all providers"
    - "Advanced options document covers gap config options"
    - "All reference docs link back to parent SKILL.md"
  artifacts:
    - path: "plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md"
      provides: "Performance tuning documentation"
      min_lines: 50
    - path: "plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md"
      provides: "API testing procedures"
      min_lines: 40
    - path: "plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md"
      provides: "Gap config options documentation"
      min_lines: 60
  key_links:
    - from: "plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md"
      to: "~/.config/memory-daemon/config.toml"
      via: "config examples for gap options"
      pattern: "timeout_secs|overlap_tokens|logging"
---

<objective>
Create additional reference documentation files that support the wizard skills and document gap configuration options that need to be covered.

Purpose: Ensure complete documentation coverage for all configuration options and provide detailed reference materials for advanced users.

Output: Three additional reference documentation files covering performance tuning, API testing, and gap config options.
</objective>

<execution_context>
@/Users/richardhightower/.claude/get-shit-done/workflows/execute-plan.md
@/Users/richardhightower/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-configuration-wizard-skills/15-RESEARCH.md
@docs/plans/configuration-wizard-skills-plan.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create performance-tuning.md reference</name>
  <files>plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md</files>
  <action>
Create comprehensive performance tuning documentation.

**Content:**
1. Overview of performance-related settings

2. Write Buffer Size (`write_buffer_size_mb`):
   | Setting | Value | Memory | Write Throughput | Use Case |
   |---------|-------|--------|------------------|----------|
   | Low | 16 MB | ~20 MB | Lower | Constrained systems |
   | Balanced | 64 MB | ~80 MB | Good | Most users |
   | High | 128 MB | ~160 MB | Best | Heavy usage |

3. Background Jobs (`max_background_jobs`):
   | Setting | Jobs | CPU Impact | Compaction Speed |
   |---------|------|------------|------------------|
   | Minimal | 1 | Low | Slower |
   | Balanced | 4 | Moderate | Good |
   | Aggressive | 8 | Higher | Fastest |

4. When to tune:
   - High write volume
   - Limited memory systems
   - SSD vs HDD considerations

5. Monitoring performance:
   - Check compaction lag
   - Monitor memory usage
   - Watch disk I/O

6. RocksDB-specific tuning (advanced):
   - Block cache size
   - Bloom filters
   - Compression options

7. Configuration examples for each profile
  </action>
  <verify>
```bash
ls -la plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md
grep -c "write_buffer\|background_jobs\|Balanced" plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md
```
File exists with performance documentation
  </verify>
  <done>performance-tuning.md created with tuning profiles and guidance</done>
</task>

<task type="auto">
  <name>Task 2: Create api-testing.md reference</name>
  <files>plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md</files>
  <action>
Create API testing procedures documentation.

**Content:**
1. Why test API connections:
   - Verify key is valid
   - Confirm model access
   - Check rate limits

2. OpenAI API Testing:
   ```bash
   # List models (verifies key)
   curl -s -H "Authorization: Bearer $OPENAI_API_KEY" \
     https://api.openai.com/v1/models | head -20

   # Test completion (verifies model access)
   curl -s -H "Authorization: Bearer $OPENAI_API_KEY" \
     -H "Content-Type: application/json" \
     https://api.openai.com/v1/chat/completions \
     -d '{"model":"gpt-4o-mini","messages":[{"role":"user","content":"Hi"}],"max_tokens":10}'
   ```

3. Anthropic API Testing:
   ```bash
   # Test message (verifies key and model)
   curl -s -H "x-api-key: $ANTHROPIC_API_KEY" \
     -H "anthropic-version: 2023-06-01" \
     -H "Content-Type: application/json" \
     https://api.anthropic.com/v1/messages \
     -d '{"model":"claude-3-5-haiku-latest","max_tokens":10,"messages":[{"role":"user","content":"Hi"}]}'
   ```

4. Ollama API Testing:
   ```bash
   # Check if running
   curl -s http://localhost:11434/api/tags

   # Test generation
   curl -s http://localhost:11434/api/generate \
     -d '{"model":"llama3.2:3b","prompt":"Hi","stream":false}'
   ```

5. Common error codes and meanings:
   | Code | Provider | Meaning | Resolution |
   |------|----------|---------|------------|
   | 401 | OpenAI/Anthropic | Invalid key | Check key format |
   | 403 | OpenAI | No access | Check billing |
   | 429 | All | Rate limited | Wait and retry |
   | 500 | All | Server error | Try later |

6. Troubleshooting guide
  </action>
  <verify>
```bash
ls -la plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md
grep -c "curl\|API\|401\|429" plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md
```
File exists with testing procedures
  </verify>
  <done>api-testing.md created with provider-specific test commands</done>
</task>

<task type="auto">
  <name>Task 3: Create advanced-options.md for gap config options</name>
  <files>plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md</files>
  <action>
Create documentation for configuration options that were identified as gaps in the coverage matrix.

**Content:**
1. Overview: These options are available in --advanced mode of memory-setup

2. **Server Options:**
   ```toml
   [server]
   host = "[::1]"       # Already covered
   port = 50051         # Already covered
   timeout_secs = 30    # GAP - request timeout
   ```
   - `timeout_secs`: gRPC request timeout in seconds (default: 30)

3. **TOC Segmentation Options:**
   ```toml
   [toc]
   segment_min_tokens = 500   # Already covered
   segment_max_tokens = 4000  # Already covered
   time_gap_minutes = 30      # Already covered
   overlap_tokens = 500       # GAP - token overlap for context
   overlap_minutes = 5        # GAP - time overlap for context
   ```
   - `overlap_tokens`: Tokens to include from previous segment (default: 500)
   - `overlap_minutes`: Minutes to include from previous segment (default: 5)

4. **Logging Options:**
   ```toml
   [logging]
   level = "info"       # GAP - trace, debug, info, warn, error
   format = "pretty"    # GAP - pretty, json, compact
   file = ""            # GAP - log file path (empty = stderr)
   ```
   - `level`: Minimum log level to output
   - `format`: Log output format
   - `file`: Optional file path for log output

5. When to use each option
6. Configuration examples
7. Troubleshooting logging issues
  </action>
  <verify>
```bash
ls -la plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md
grep -c "timeout_secs\|overlap_tokens\|logging" plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md
```
File exists with gap options documentation
  </verify>
  <done>advanced-options.md created documenting all gap config options</done>
</task>

</tasks>

<verification>
Run these commands to verify the plan is complete:

```bash
# Verify all reference files exist
ls -la plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md
ls -la plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md
ls -la plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md

# Verify content
grep -l "write_buffer\|background_jobs" plugins/memory-setup-plugin/skills/memory-storage/references/*.md
grep -l "curl\|Authorization" plugins/memory-setup-plugin/skills/memory-llm/references/*.md
grep -l "timeout_secs\|overlap\|logging" plugins/memory-setup-plugin/skills/memory-setup/references/*.md

# Count lines
wc -l plugins/memory-setup-plugin/skills/memory-storage/references/performance-tuning.md
wc -l plugins/memory-setup-plugin/skills/memory-llm/references/api-testing.md
wc -l plugins/memory-setup-plugin/skills/memory-setup/references/advanced-options.md
```
</verification>

<success_criteria>
1. performance-tuning.md documents all RocksDB tuning options
2. api-testing.md has test commands for all three providers
3. advanced-options.md covers all gap config options (timeout, overlap, logging)
4. All files have clear examples and use cases
5. Files link back to parent skills
</success_criteria>

<output>
After completion, create `.planning/phases/15-configuration-wizard-skills/15-04-SUMMARY.md`
</output>
